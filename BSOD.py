import ctypes

ntdll = ctypes.windll.ntdll
SeShutdownPrivilege = 19

def GetNtError(err):
    return ntdll.RtlNtStatusToDosError(err)


def BSOD(stop_code):
    enabled = ctypes.c_bool()
    res = ntdll.RtlAdjustPrivilege(SeShutdownPrivilege, True, False, ctypes.pointer(enabled))
    if not res:
        print("Privileges adjusted successfully!")
    else:
        print("Privileges could not be adjusted!")
        raise ctypes.WinError(GetNtError(res))
    
    BSOD(0xDEADDEAD)